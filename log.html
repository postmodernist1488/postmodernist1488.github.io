<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="style.css">
        <title>postmodernist1848 personal website</title>
        <link rel="icon" type="image/x-icon" href="/assets/favicon.ico">
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <script src="index.js"></script>
    </head>
    <body>
        <div class="checkbox-with-text" style="position: fixed; top: 0; margin: 20px" id="sidebar-checkbox-with-text">
            <label id="sidebar-toggle-label"><input type="checkbox" id="sidebar-toggle"/>hide sidebar</label>
        </div>
        <div id="sidebar" class="sidebar">
            <div id="my-websit">my websit</div>
            <a style="background-color: #81a1c1" href="/index.html">int main</a>
            <a style="background-color: #a3be8c" href="/funi.html">funi</a>
            <a style="background-color: #ebcb8b" href="/game.html">game</a>
            <a style="background-color: #f59335" href="/log.html">log</a>
            <a style="background-color: #bf616a" href="/link.html">link</a>
            <fieldset style="height: 10%">
                <legend style="font-size: 0.5em; color: white">Funi stuff</legend>
                <div class="checkbox-with-text">
                    <label> 
                        <input type="checkbox" id="rainbow-toggle"/>rainbow</label>
                </div>
            </fieldset>
        </div>
        <div id="contents"><h1 id="loading-message">Loading</h1>
<script>
    //TODO: create my own cors proxy
    const url = 'https://api.allorigins.win/raw?url=https://pastebin.com/raw/vb43aqyz'
    //fetch('https://pastebin.com/raw/vb43aqyz')
    fetch(url)
    .then(response => response.ok ? response.text(): 'error, sorry')
    .then(html => {
        document.getElementById('contents').innerHTML = html;
        const rainbow_checkbox = document.getElementById('rainbow-toggle');
        if (rainbow_checkbox.checked) {
            initial_state.clear()
            rainbowize_contents()
        }
    }).catch((e) => {
        document.getElementById('loading-message').innerHTML = 
            'Error. Try refreshing the page'
    })
</script>


        </div>
        <footer>
            Copyright <a href="https://github.com/postmodernist1848">postmodernist1848</a>
        </footer>
    </body>
</html>

